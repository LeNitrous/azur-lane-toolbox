(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68676060"],{2506:function(e,t,r){},4036:function(e,t,r){e.exports=r.p+"img/unknown_ship.5c3564c2.png"},"50d4":function(e,t,r){},"572d":function(e,t,r){},"5ea3":function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t["a"]=r}).call(this,r("c8ba"))},"60df":function(e,t,r){"use strict";var n=r("2506"),a=r.n(n);a.a},8143:function(e,t,r){"use strict";var n=r("50d4"),a=r.n(n);a.a},"93d9":function(e,t,r){"use strict";var n=r("c2fb"),a=r.n(n);a.a},"95cd":function(e,t,r){e.exports=r.p+"img/loader.ecda5068.gif"},b5fb:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("search",e._b({},"search",e.search,!1,!0),[r("template",{slot:"items"},e._l(e.search.results,(function(e){return r("item-icon",{key:e.id,attrs:{type:"ship",name:e.code,rarity:e.rarity}})})),1),r("template",{slot:"filters"},[r("p",[e._v("Type")]),r("b-dropdown",{attrs:{expanded:""},model:{value:e.search.filters.type,callback:function(t){e.$set(e.search.filters,"type",e._n(t))},expression:"search.filters.type"}},[r("button",{staticClass:"button is-primary",attrs:{slot:"trigger"},slot:"trigger"},[r("span",[e._v(e._s(e.currentType.name))])]),e._l(e.types,(function(t){return r("b-dropdown-item",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2),r("p",[e._v("Rarity")]),r("filter-rarity",{model:{value:e.search.filters.rarity,callback:function(t){e.$set(e.search.filters,"rarity",t)},expression:"search.filters.rarity"}}),r("p",[e._v("Nation")]),r("b-dropdown",{attrs:{expanded:""},model:{value:e.search.filters.nationality,callback:function(t){e.$set(e.search.filters,"nationality",e._n(t))},expression:"search.filters.nationality"}},[r("button",{staticClass:"button is-primary",attrs:{slot:"trigger"},slot:"trigger"},[r("span",[e._v(e._s(e.currentNation.name))])]),e._l(e.nations,(function(t){return r("b-dropdown-item",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2)],1)],2)},a=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"columns is-centered"},[r("div",{staticClass:"column\n                is-10-widescreen\n                is-9-fullhd"},[r("section",{staticClass:"section"},[r("div",{staticClass:"search-header"},[r("p",{staticClass:"title"},[e._v(" Search ")]),r("b-input",{attrs:{value:e.query,"icon-right":"search",expanded:""},on:{input:function(t){return e.$emit("update:query",t)}}})],1),r("div",{staticClass:"columns is-reversed-mobile"},[r("div",{staticClass:"column has-text-centered is-two-thirds"},[e._t("items")],2),r("div",{staticClass:"column"},[r("p",{staticClass:"subtitle"},[e._v(" Filters ")]),e._t("filters")],2)])])])])},s=[];function o(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var c=o,u=r("5ea3"),l="object"==typeof self&&self&&self.Object===Object&&self,m=u["a"]||l||Function("return this")(),p=m,d=function(){return p.Date.now()},f=d,h=p.Symbol,y=h,v=Object.prototype,g=v.hasOwnProperty,b=v.toString,N=y?y.toStringTag:void 0;function w(e){var t=g.call(e,N),r=e[N];try{e[N]=void 0;var n=!0}catch(i){}var a=b.call(e);return n&&(t?e[N]=r:delete e[N]),a}var _=w,j=Object.prototype,S=j.toString;function k(e){return S.call(e)}var C=k,x="[object Null]",O="[object Undefined]",A=y?y.toStringTag:void 0;function $(e){return null==e?void 0===e?O:x:A&&A in Object(e)?_(e):C(e)}var E=$;function T(e){return null!=e&&"object"==typeof e}var I=T,B="[object Symbol]";function q(e){return"symbol"==typeof e||I(e)&&E(e)==B}var R=q,z=NaN,U=/^\s+|\s+$/g,V=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,L=/^0o[0-7]+$/i,M=parseInt;function D(e){if("number"==typeof e)return e;if(R(e))return z;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(U,"");var r=F.test(e);return r||L.test(e)?M(e.slice(2),r?2:8):V.test(e)?z:+e}var H=D,P="Expected a function",J=Math.max,K=Math.min;function W(e,t,r){var n,a,i,s,o,u,l=0,m=!1,p=!1,d=!0;if("function"!=typeof e)throw new TypeError(P);function h(t){var r=n,i=a;return n=a=void 0,l=t,s=e.apply(i,r),s}function y(e){return l=e,o=setTimeout(b,t),m?h(e):s}function v(e){var r=e-u,n=e-l,a=t-r;return p?K(a,i-n):a}function g(e){var r=e-u,n=e-l;return void 0===u||r>=t||r<0||p&&n>=i}function b(){var e=f();if(g(e))return N(e);o=setTimeout(b,v(e))}function N(e){return o=void 0,d&&n?h(e):(n=a=void 0,s)}function w(){void 0!==o&&clearTimeout(o),l=0,n=u=a=o=void 0}function _(){return void 0===o?s:N(f())}function j(){var e=f(),r=g(e);if(n=arguments,a=this,u=e,r){if(void 0===o)return y(u);if(p)return clearTimeout(o),o=setTimeout(b,t),h(u)}return void 0===o&&(o=setTimeout(b,t)),s}return t=H(t)||0,c(r)&&(m=!!r.leading,p="maxWait"in r,i=p?J(H(r.maxWait)||0,t):i,d="trailing"in r?!!r.trailing:d),j.cancel=w,j.flush=_,j}var G=W,Q={props:{query:{type:String,default:""},items:{type:Array,default:function(){return[]}},results:{type:Array,default:function(){return[]}},filters:{type:Object,default:function(){return{}}}},watch:{query:function(){this.getResults()},items:{deep:!0,handler:function(){this.getResults()}},filters:{deep:!0,handler:function(){this.getResults()}}},methods:{getResults:G((function(){const e=Object.assign({name:this.query},this.filters),t=this.items.filter(t=>Object.keys(e).every(r=>{if(typeof e[r]!==typeof t[r]&&!Array.isArray(e[r]))throw new TypeError(`Type mismatch on key "${r}": expected "${typeof t[r]}" got "${typeof e[r]}"`);return"string"===typeof e[r]&&e[r].length>0?t[r].toLowerCase().includes(e[r].toLowerCase()):"number"===typeof e[r]&&e[r]>-1?t[r]===e[r]:!(Array.isArray(e[r])&&e[r].length>0)||-1!==e[r].indexOf(t[r])}));this.$emit("update:results",t)}),200)}},X=Q,Y=(r("93d9"),r("2877")),Z=Object(Y["a"])(X,i,s,!1,null,"da97cf28",null),ee=Z.exports,te=function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return n("div",{class:(e={"item-square-icon":!0},e["rarity-"+t.rarity]=!0,e["research"]=t.research,e)},[n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.image,expression:"image",arg:"background-image"}],staticClass:"item-image"})])},re=[],ne={props:{type:{type:String,default:"item",validator:e=>-1!==["item","ship","equip"].indexOf(e)},name:{type:String,required:!0},rarity:{type:Number,default:1},research:{type:Boolean,default:!1}},data:function(){return{image:{src:this.getIcon(),error:r("4036"),loading:r("95cd")}}},methods:{getIcon:function(){const e={item:"",ship:`https://raw.githack.com/AzurAPI/azurapi-js-setup/master/images/skins/${this.name}/thumbnail.png`,equip:`https://raw.githack.com/AzurAPI/azurapi-js-setup/master/images/equipments/${this.name.replace(" ","_")}.png`};return e[this.type]}}},ae=ne,ie=(r("f578"),Object(Y["a"])(ae,te,re,!1,null,"ca7fc3f6",null)),se=ie.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(5,(function(t){return r("div",{key:t,staticClass:"rarity-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{id:"rarity-"+t,type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selected)?e._i(e.selected,t)>-1:e.selected},on:{change:function(r){var n=e.selected,a=r.target,i=!!a.checked;if(Array.isArray(n)){var s=t,o=e._i(n,s);a.checked?o<0&&(e.selected=n.concat([s])):o>-1&&(e.selected=n.slice(0,o).concat(n.slice(o+1)))}else e.selected=i}}}),r("label",{class:["container","type-"+t],attrs:{for:"rarity-"+t}})])})),0)},ce=[],ue={model:{prop:"selectedValue",event:"change"},props:{selectedValue:{type:Array,default:function(){return[]}}},data:function(){return{selected:[]}},watch:{selected:function(){this.$emit("change",this.selected)}}},le=ue,me=(r("8143"),Object(Y["a"])(le,oe,ce,!1,null,"7b8f7190",null)),pe=me.exports;const de={1:{type:"vanguard",name:"Destroyer",shortName:"DD"},2:{type:"vanguard",name:"Light Cruiser",shortName:"CL"},3:{type:"vanguard",name:"Heavy Cruiser",shortName:"CA"},4:{type:"main",name:"Battlecruiser",shortName:"BC"},5:{type:"main",name:"Battleship",shortName:"BB"},6:{type:"main",name:"Light Aircraft Carrier",shortName:"CVL"},7:{type:"main",name:"Aircraft Carrier",shortName:"CV"},8:{type:"sub",name:"Submarine",shortName:"SS"},9:{type:"unused",name:"Aviation Cruiser",shortName:"AV"},10:{type:"main",name:"Aviation Battleship",shortName:"BBV"},11:{type:"unused",name:"",shortName:""},12:{type:"main",name:"Repair Ship",shortName:"AR"},13:{type:"main",name:"Monitor",shortName:"BM"},14:{type:"enemy",name:"Torpedo Submarine",shortName:""},15:{type:"unused",name:"",shortName:""},16:{type:"enemy",name:"Explosive Ship",shortName:""},17:{type:"sub",name:"Submarine Seaplane Carrier",shortName:"SSV"},18:{type:"main",name:"Large Cruiser",shortName:"CB"}},fe={0:{name:"Other",shortName:""},1:{name:"Eagle Union",shortName:"USS"},2:{name:"Royal Navy",shortName:"HMS"},3:{name:"Sakura Empire",shortName:"IJN"},4:{name:"Iron Blood",shortName:"KMS"},5:{name:"Eastern Radiance",shortName:"ROC"},6:{name:"Sardegna Empire",shortName:"RN"},7:{name:"North Union",shortName:"SN"},8:{name:"Iris Libre",shortName:"FFNF"},9:{name:"Vichiya Dominion",shortName:"MNF"},98:{name:"Universal",shortName:"UNIV"},100:{name:"",shortName:""},101:{name:"Neptunia",shortName:"HDN"},102:{name:"Bilibili",shortName:"Bilibili"},103:{name:"Utawarerumono",shortName:"Utawarerumono"},104:{name:"Kizuna AI",shortName:"Kizuna AI"},105:{name:"Hololive",shortName:"Hololive"}};async function he(e,t=[],r={},n="en",a={}){const i=window.webpackHotUpdate?"/api":"https://azur-lane-api.glitch.me/api";if(-1===["en","jp","cn","kr","tw"].indexOf(n))throw new SyntaxError("Cannot obtain data from unknown region.");t.length<1&&Object.keys(r).length&&console.warn("Making a request with no keys or filters will cause slowdowns!");const s=["region="+n,Object.entries(r).map(([e,t])=>`${e}=${t}`),"keys="+t.join(",")].flat().join("&"),o={method:"GET",headers:{Accept:"application/json","User-Agent":"azur-lane-toolbox"}};console.log(`Fetching: ${i}${e}?${s}`);const c=await fetch(`${i}${e}?${s}`,Object.assign(o,a));if(200!==c.status){const{error:e}=await c.json();throw new Error(`An error has been received from the response (${c.status})\n\tError: ${e}`)}return(await c.json()).entries}var ye={components:{ItemIcon:se,Search:ee,FilterRarity:pe},data:function(){return{search:{items:[],results:[],query:"",filters:{nationality:-1,type:-1,rarity:[]}}}},computed:{types:function(){return[{id:-1,name:"All"},...Object.entries(de).map(([e,t])=>Object.assign({id:parseInt(e)},t)).filter(e=>["unused","enemy"].indexOf(e.type)<0)]},nations:function(){return[{id:-1,name:"All"},...Object.entries(fe).map(([e,t])=>Object.assign({id:parseInt(e)},t)).filter(e=>e.name.length>0)]},currentType:function(){const e=this.types.find(e=>e.id===this.search.filters.type);return e},currentNation:function(){return this.nations.find(e=>e.id===this.search.filters.nationality)}},mounted:async function(){const e=await he("/ships",["id","group_type"]),t=await he("/ships/stat",["id","rarity","name","type","nationality"]),r=await he("/ships/group",["group_type","code"]),n=(await he("/ships/research",["id"])).map(e=>e.id);function a(e){return e>2e4?"Plan"+(e-2e4).toString().padStart(3,"0"):e>1e4?"Collab"+(e-1e4).toString().padStart(3,"0"):e.toString().padStart(3,"0")}this.search.items=r.map(r=>{let i=e.filter(e=>e.group_type===r.group_type).reverse()[0],{name:s,rarity:o,type:c,nationality:u}=t.find(e=>e.id===i.id);return{id:r.group_type,code:a(r.code),rarity:o-1,name:s,type:c,nationality:u,isPriority:n.includes(i.id)}})}},ve=ye,ge=(r("60df"),Object(Y["a"])(ve,n,a,!1,null,"43b46575",null));t["default"]=ge.exports},c2fb:function(e,t,r){},f578:function(e,t,r){"use strict";var n=r("572d"),a=r.n(n);a.a}}]);